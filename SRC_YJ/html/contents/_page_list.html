<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>íŒŒì¼ ëª©ë¡</title>

    <!-- DataTables CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"
    />

    <style>
      table.dataTable tbody th,
      table.dataTable tbody td {
        padding: 2px;
        font-size: 12px;
        text-align: center;
      }
      table.dataTable tbody tr:nth-child(odd) {
        background: #efefef;
      }
      .open-btn {
        padding: 3px 10px;
        background-color: #f5f5f5;
        border: 1px solid #efefef;
        box-shadow: 0 0 1px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        border-radius: 5px;
      }
      .open-btn:hover {
        background-color: white;
      }
      table.dataTable thead th {
        text-align: center;
      }
      table.dataTable tbody td:nth-child(3),
      table.dataTable tbody td:nth-child(11) {
        text-align: left;
      }
    </style>
  </head>
  <body>
    <h2>ìˆ˜í•™ 56 ì‚°ì¶œë¬¼ ëª©ë¡</h2>
    <table id="file-table">
      <thead>
        <tr>
          <th style="width: 40px">No</th>
          <th style="width: 40px">ë§í¬</th>
          <th style="width: 200px">ID</th>
          <th style="width: 40px">í•™ë…„</th>
          <!-- <th>ê³¼ëª©</th> -->
          <th style="width: 40px">ë‹¨ì›</th>
          <th style="width: 40px">í•™ê¸°</th>
          <th style="width: 40px">ì°¨ì‹œ</th>
          <th style="width: 100px">ë©”ë‰´</th>
          <th style="width: 80px">ì„¸ë¶€ ë©”ë‰´</th>
          <th style="width: 60px">í™”ë©´ ë²ˆí˜¸</th>
          <th style="width: 600px">ë¹„ê³ </th>
        </tr>
      </thead>
      <tbody id="file-table-body"></tbody>
    </table>

    <!-- DataTables & jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

    <script>
      // const htmlFiles = [
      //     "EMA511_00_SU_0001_s.html",
      //     "EMA511_00_AJP_0002_s.html",
      //     "EMA511_00_AIYS_0003_t.html",
      //     "EMA511_01_SU_0004_s.html",
      //     "EMA511_01_GJ_0005_s.html",
      //     "EEN411_02_WS_0012_s.html"
      // ];

      const htmlFiles = [
        /*ê¹€ìš©í˜„*/
        "../guide_sample/header.html",
        "../guide_sample/input.html",
        "../guide_sample/cardflip.html",
        "../guide_sample/dragndrop_eraser.html",
        "../guide_sample/drawline_calc.html",
        "../guide_sample/paging.html|í˜ì´ì§•",
        "../guide_sample/reveal.html",
        "../guide_sample/zoomimage.html",
        "../guide_sample/boolean.html|ì°¸,ê±°ì§“ ì„ íƒ í† ê¸€",
        "EMA511_00_SU_0001_s.html|ë‹¨ì› ì‹œì‘",
        "EMA511_00_SU_0002_s.html|ì§€ìš°ê°œ ë“œë˜ê·¸",
        "EMA511_00_SU_0003_s.html|ì¹´ë“œ í”Œë¦½",
        "EMA511_00_SU_0004_s.html",
        "EMA511_00_SU_0005_s.html|ì´ë¯¸ì§€ í™•ëŒ€",
        "EMA511_00_SU_0006_s.html",

        "EMA511_01_SU_0001_s.html",
        "EMA511_01_SU_0002_s.html",
        "EMA511_01_SU_0003_s.html",
        "EMA511_01_SU_0004_s.html|ìˆ¨ê¹€ë²„íŠ¼",
        "EMA511_01_SU_0005_s.html|ìˆ˜ì‹ìˆœì„œì„ ì‡ê¸°",
        "EMA511_01_SU_0006_s.html",
        "EMA511_01_SU_0007_s.html",

        "EMA511_02_SU_0001_s.html",
        "EMA511_02_SU_0002_s.html",
        "EMA511_02_SU_0003_s.html",
        "EMA511_02_SU_0004_s.html",
        "EMA511_02_SU_0005_s.html",
        "EMA511_02_SU_0006_s.html",
        "EMA511_02_SU_0007_s.html",

        "EMA511_03_SU_0001_s.html",
        "EMA511_03_SU_0002_s.html",
        "EMA511_03_SU_0003_s.html",
        "EMA511_03_SU_0004_s.html",
        "EMA511_03_SU_0005_s.html",
        "EMA511_03_SU_0006_s.html",
        "EMA511_03_SU_0007_s.html",

        "EMA511_04_SU_0001_s.html",
        "EMA511_04_SU_0002_s.html",
        "EMA511_04_SU_0003_s.html",
        "EMA511_04_SU_0004_s.html",
        "EMA511_04_SU_0005_s.html",
        "EMA511_04_SU_0006_s.html|ì°¸,ê±°ì§“ ì„ íƒ í† ê¸€",
        "EMA511_04_SU_0007_s.html",

        /* ì„ìˆ˜í¬ */
        "EMA511_05_SU_0001_s.html",
        "EMA511_05_SU_0002_s.html",
        "EMA511_05_SU_0003_s.html",
        "EMA511_05_SU_0004_s.html",
        "EMA511_05_SU_0006_s.html",
        
        "EMA511_05_SU_0001_s.html",
        // ë³¸ì¸ íŒŒíŠ¸ì˜ í™”ë©´ì„ ë§Œë“¤ì–´ì„œ
        // ì´ëŸ° í˜•íƒœë¡œ ë³€ìˆ˜ë¥¼ ë„£ìœ¼ì‹œë©´
        // í™”ë©´ë¦¬ìŠ¤íŠ¸ì— ëª©ë¡ì´ ì¶”ê°€ê°€ ë ê±°ì—ìš”.
        // ê·¸ë˜ì„œ ë§¤ì¼ ë§Œë“œì‹  ë¶„ëŸ‰ ë§Œí¼ ì¶”ê°€í•˜ì‹œë©´ ë”°ë¡œ ë³´ê³  í•´ì£¼ì‹¤ í•„ìš”ì—†ì´ ì‚°ì¶œë¬¼ ê´€ë¦¬ê°€ ë ìˆ˜ ìˆì„ê²ƒ ê°™ì•„ìš”.

        /* ë°•ë‚˜ìœ¨ */
        "EMA561_00_SU_0001_s.html",
        "EMA561_00_SU_0002_s.html",
        "EMA561_00_SU_0003_s.html",
        "EMA561_00_SU_0004_s.html",
        "EMA561_00_SU_0006_s.html",
        "EMA561_00_SU_0007_s.html",

        /* ì´ì—¬ì§„ */
        "EMA511_SU_0001_s.html",
        "EMA511_SU_0002_T.html",
        "EMA511_SU_0003_T.html",
        "EMA511_SU_0004_T.html",
        "EMA511_SU_0005_T.html",
        "EMA511_SU_0006_T.html",
        "EMA511_SU_0007_T.html",
        "EMA511_SU_0009_T.html",
        "EMA511_SU_0010_T.html",
        "EMA511_SU_0011_T.html",
        "EMA511_SU_0012_T.html",
      ];

      function parseFileName(fileData, index) {
        let splitData = fileData.split("|");
        let filePath = splitData[0]; // ì›ë³¸ íŒŒì¼ ê²½ë¡œ (ë˜ëŠ” íŒŒì¼ëª…)
        let remarks = splitData[1] || ""; // ë¹„ê³  (ì—†ìœ¼ë©´ ë¹ˆ ê°’)

        if (filePath.startsWith("../")) {
          // ğŸ”¹ ê²½ë¡œê°€ ìˆëŠ” íŒŒì¼ -> ê²½ë¡œ ìœ ì§€í•˜ê³  í…Œì´ë¸”ì—ëŠ” íŒŒì¼ëª…ë§Œ í‘œì‹œ
          let extractedName = filePath.split("/").pop().replace(".html", "");

          return {
            Index: index + 1,
            ID: extractedName, // ğŸ”¹ í…Œì´ë¸”ì— í‘œì‹œë  ID (íŒŒì¼ëª…ë§Œ)
            ë¹„ê³ : remarks,
            íŒŒì¼ëª…: filePath, // ğŸ”¹ ì‹¤ì œ ë§í¬ëŠ” ê²½ë¡œ í¬í•¨
            isSimpleLink: true,
          };
        } else {
          // ğŸ”¹ ì¼ë°˜ íŒŒì¼ ì²˜ë¦¬
          const rawName = filePath.replace(".html", "");

          const ê³¼ëª©ì½”ë“œ = rawName.substring(1, 3);
          const ê³¼ëª©ëª… =
            ê³¼ëª©ì½”ë“œ === "MA" ? "ìˆ˜í•™" : ê³¼ëª©ì½”ë“œ === "EN" ? "ì˜ì–´" : "ê¸°íƒ€";

          let fileTypeStartIndex = 10;
          let fileTypeEndIndex = rawName.indexOf("_", fileTypeStartIndex);
          const íŒŒì¼ì¢…ë¥˜ = rawName.substring(
            fileTypeStartIndex,
            fileTypeEndIndex
          );

          let screenNumberStart = fileTypeEndIndex + 1;
          let screenNumberEnd = screenNumberStart + 4;
          let userIndex = screenNumberEnd + 1;

          const í™”ë©´ë²ˆí˜¸ = rawName.substring(
            screenNumberStart,
            screenNumberEnd
          );
          const ì‚¬ìš©ì =
            rawName.substring(userIndex, userIndex + 1) === "t"
              ? "ì„ ìƒë‹˜"
              : "í•™ìƒ";

          return {
            Index: index + 1,
            isSimpleLink: false,
            ID: rawName,
            í•™ë…„: rawName.substring(3, 4),
            ê³¼ëª©: ê³¼ëª©ëª…,
            ë‹¨ì›: rawName.substring(4, 5),
            í•™ê¸°: rawName.substring(5, 6),
            ì°¨ì‹œ: rawName.substring(7, 9),
            ë©”ë‰´: "ì§„ë„í•™ìŠµ",
            ì„¸ë¶€ë©”ë‰´: "ìˆ˜ì—…",
            í™”ë©´ë²ˆí˜¸: í™”ë©´ë²ˆí˜¸,
            ì‚¬ìš©ì: ì‚¬ìš©ì,
            ë¹„ê³ : remarks,
            íŒŒì¼ëª…: filePath,
          };
        }
      }

      function populateTable() {
        const tbody = document.getElementById("file-table-body");
        tbody.innerHTML = "";

        htmlFiles.forEach((file, index) => {
          const data = parseFileName(file, index);
          if (!data) return;

          let row = document.createElement("tr");

          if (data.isSimpleLink) {
            // ğŸ”¹ ë§í¬ë§Œ ìˆëŠ” ê²½ìš° (ID, ë¹„ê³ , íŒŒì¼ ì—´ê¸°ë§Œ í‘œì‹œ, ë‚˜ë¨¸ì§€ëŠ” ë¹ˆ ì¹¸)
            row.innerHTML = `
                        <td>${data.Index}</td>
                        <td>
                            <button class="open-btn" onclick="openFile('${data.íŒŒì¼ëª…}')">ğŸ“‚</button>
                        </td>
                        <td>${data.ID}</td>
                        <td>-</td>  <!-- í•™ë…„ -->
                        
                        <td>-</td>  <!-- ë‹¨ì› -->
                        <td>-</td>  <!-- í•™ê¸° -->
                        <td>-</td>  <!-- ì°¨ì‹œ -->
                        <td>í™”ë©´ ì–‘ì‚° ê°€ì´ë“œ</td>  <!-- ë©”ë‰´ -->
                        <td>-</td>  <!-- ì„¸ë¶€ ë©”ë‰´ -->
                        <td>-</td>  <!-- í™”ë©´ ë²ˆí˜¸ -->
                        <td>${data.ë¹„ê³ }</td>
                    `;
          } else {
            // ğŸ”¹ ì¼ë°˜ íŒŒì¼ (ëª¨ë“  ì—´ í‘œì‹œ)
            row.innerHTML = `
                        <td>${data.Index}</td>
                        <td>
                            <button class="open-btn" onclick="openFile('${data.íŒŒì¼ëª…}')">ğŸ“‚</button>
                        </td>
                        <td>${data.ID}</td>
                        <td>${data.í•™ë…„}</td>

                        <td>${data.ë‹¨ì›}</td>
                        <td>${data.í•™ê¸°}</td>
                        <td>${data.ì°¨ì‹œ}</td>
                        <td>${data.ë©”ë‰´}</td>
                        <td>${data.ì„¸ë¶€ë©”ë‰´}</td>
                        <td>${data.í™”ë©´ë²ˆí˜¸}</td>
                        <td>${data.ë¹„ê³ }</td>
                    `;
          }
          tbody.appendChild(row);
        });

        // DataTables ì ìš©
        $("#file-table").DataTable({
          destroy: true, // ê¸°ì¡´ í…Œì´ë¸” ì œê±° í›„ ë‹¤ì‹œ ì´ˆê¸°í™”
          order: [[0, "asc"]],
          pageLength: 25,
          lengthMenu: [10, 25, 50, 100],
          language: {
            search: "ê²€ìƒ‰:",
            lengthMenu: "_MENU_ ê°œì”© ë³´ê¸°",
            info: "ì´ _TOTAL_ ê°œ ì¤‘ _START_ - _END_ í‘œì‹œ",
            paginate: {
              first: "ì²˜ìŒ",
              last: "ë§ˆì§€ë§‰",
              next: "ë‹¤ìŒ",
              previous: "ì´ì „",
            },
          },
        });
      }

      function openFile(fileName) {
        // íŒŒì¼ ê²½ë¡œê°€ "../"ë¡œ ì‹œì‘í•˜ëŠ” ê²½ìš°, í˜„ì¬ ë””ë ‰í† ë¦¬ ê¸°ì¤€ìœ¼ë¡œ ì ‘ê·¼
        let filePath = fileName.startsWith("../") ? fileName : `./${fileName}`;
        window.open(filePath, "_blank");
      }

      populateTable();
    </script>
  </body>
</html>
